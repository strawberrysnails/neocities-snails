---
title: Photogrid
layout: none
nesting: ""
permalink: notebook/photogrid/
---

<img src="/images/graphics/camera.png">

<div class="photo-container">
{% for photo in photos %}
  <div class="card">
    <img 
      src="/images/photogrid/{{ photo.src }}" 
      data-caption="{{ photo.caption | safe }}" 
      data-date="{{ photo.date }}" 
      class="clickable-photo" 
      style="cursor: url(/images/pointer.png), pointer;"
    >
    <div class="desc">
      <b style="margin: 5px;">{{ photo.date }}</b><br>
      {{ photo.caption | safe }}
    </div>
  </div>
{% endfor %}

<div id="photoModal" style="display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(46, 46, 46, 0.90);">
  <span id="closeModal" style="position:absolute; top:15px; right:35px; color:white; font-size:60px; cursor: url(/images/pointer.png), pointer;">&times;</span>
  <div style="margin: auto; padding: 20px; max-width: 90%; text-align: center;">
    <img id="modalImage" src="" style="max-width: 100%; height: auto; margin-top: 10%; border: 10px solid white" />
    <div id="modalCaption" style="color:white; margin-top:10px;"></div>
    <div id="modalNav" style="margin-top: 10px;">
  <button id="prevPhoto" style="margin-right: 10px;">← Prev</button>
  <button id="nextPhoto">Next →</button>
</div>
  </div>
</div>
</div>

<script>
  const photos = Array.from(document.querySelectorAll('.clickable-photo'));
  let currentIndex = 0;

  function openModal(index) {
    const img = photos[index];
    if (!img) return;

    document.getElementById('modalImage').src = img.src;
    document.getElementById('modalCaption').innerHTML = `<b>${img.dataset.date}</b><br>${img.dataset.caption}`;
    document.getElementById('photoModal').style.display = "block";
    currentIndex = index;
  }

  photos.forEach((img, index) => {
    img.addEventListener('click', () => openModal(index));
  });


  document.getElementById('closeModal').addEventListener('click', () => {
    document.getElementById('photoModal').style.display = "none";
  });


  window.addEventListener('click', (e) => {
    if (e.target === document.getElementById('photoModal')) {
      document.getElementById('photoModal').style.display = "none";
    }
  });

  document.getElementById('prevPhoto').addEventListener('click', () => {
    openModal((currentIndex - 1 + photos.length) % photos.length);
  });

  document.getElementById('nextPhoto').addEventListener('click', () => {
    openModal((currentIndex + 1) % photos.length);
  });

  document.addEventListener('keydown', (e) => {
  const modal = document.getElementById('photoModal');
  if (modal.style.display !== "block") return;

  if (e.key === "Escape") {
    modal.style.display = "none";
  } else if (e.key === "ArrowLeft") {
    openModal((currentIndex - 1 + photos.length) % photos.length);
  } else if (e.key === "ArrowRight") {
    openModal((currentIndex + 1) % photos.length);
  }
});

</script>
